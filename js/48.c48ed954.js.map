{"version":3,"file":"js/48.c48ed954.js","mappings":"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","sources":["webpack://vue-project/./src/components/Loader.vue","webpack://vue-project/./src/components/Loader.vue?b8fd","webpack://vue-project/./src/views/backend/Products.vue","webpack://vue-project/./src/components/backend/ProductModal.vue","webpack://vue-project/./src/components/backend/ProductModal.vue?106f","webpack://vue-project/./src/views/backend/Products.vue?306b"],"sourcesContent":["<template>\n  <Teleport to=\"body\">\n    <div class=\"loader-wrap\">\n      <div class=\"loader\">\n        <div class=\"box\">\n          <div class=\"deco one\"><img src=\"../assets//images/loader_deco_1.png\" alt=\"deco\"></div>\n          <div class=\"deco two\"><img src=\"../assets//images/loader_deco_2.png\" alt=\"deco\"></div>\n          <div class=\"deco three\"><img src=\"../assets//images/loader_deco_3.png\" alt=\"deco\"></div>\n        </div>\n      </div>\n    </div>\n  </Teleport>\n</template>\n\n<script>\n  export default {\n    \n  }\n</script>\n\n<style lang=\"scss\" scoped>\n.loader-wrap{\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0,.85);\n  z-index: 99;\n  .loader{\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%,-50%);\n    .box{\n      width: 250px;\n      position: relative;\n      .deco-main{\n        position: absolute;\n        bottom: 0;\n        left: 60%;\n        width: 170px;\n        transform: translateX(-50%);\n      }\n      .deco{\n        position: absolute;\n        width: 80px;\n        top: 0;\n        &.one{\n          left: 0;\n          animation: ani_loader_1 1s infinite cubic-bezier(0.39, 0.575, 0.565, 1);\n        }\n        &.two{\n          width: 60px;\n          left: 105px;\n          animation: ani_loader_2 1s infinite cubic-bezier(0.39, 0.575, 0.565, 1);\n        }\n        &.three{\n          top: -5px;\n          width: 70px;\n          right: 0px;\n          transform: rotate(15deg);\n          animation: ani_loader_1 1s infinite cubic-bezier(0.39, 0.575, 0.565, 1);\n        }\n      }\n    }\n  }\n}\n@media (max-width: 767px) {\n  .loader-wrap .loader .box{\n      width: 200px;\n      .deco{\n      &.one{\n        width: 65px;\n      }\n      &.two{\n        width: 45px;\n        left: 88px;\n      }\n      &.three{\n        width: 55px;\n      }\n    }\n  }\n\n}\n\n@keyframes ani_loader_1{\n  0%,100%{\n    margin-top: 8px;\n  }\n  50%{\n    margin-top: 2px;\n  }\n}\n@keyframes ani_loader_2{\n  0%,100%{\n    margin-top: 0;\n  }\n  50%{\n    margin-top: 8px;\n  }\n}\n</style>","import { render } from \"./Loader.vue?vue&type=template&id=147a84ec&scoped=true\"\nimport script from \"./Loader.vue?vue&type=script&lang=js\"\nexport * from \"./Loader.vue?vue&type=script&lang=js\"\n\nimport \"./Loader.vue?vue&type=style&index=0&id=147a84ec&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-147a84ec\"]])\n\nexport default __exports__","<template>\n  <Loader v-if=\"loader\" />\n  <div class=\"text-end\">\n    <button class=\"btn btn-primary\" type=\"button\" @click=\"openModal(true)\">新增產品</button>\n  </div>\n  <table class=\"table mt-3\">\n    <thead>\n      <tr>\n        <th width=\"120\">分類</th>\n        <th>產品名稱</th>\n        <th width=\"120\">原價</th>\n        <th width=\"120\">售價</th>\n        <th width=\"100\">是否啟用</th>\n        <th width=\"200\">編輯</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"(item,key) in products\" :key=\"item.id\">\n        <td>{{ item.category }}</td>\n        <td>{{ item.title }}</td>\n        <td class=\"text-right\">\n          {{ $filters.currency(item.origin_price) }}\n        </td>\n        <td class=\"text-right\">\n          {{ $filters.currency(item.price) }}\n        </td>\n        <td>\n          <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\n          <span class=\"text-muted\" v-else>未啟用</span>\n        </td>\n        <td>\n          <div class=\"btn-group\">\n            <button class=\"btn btn-outline-primary btn-sm\" @click=\"openModal(false,item)\">編輯</button>\n            <button class=\"btn btn-outline-danger btn-sm\" @click=\"deleteModal(item)\">刪除</button>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <Pagination :pages=\"pagination\" @emit-page=\"getProducts\"/>\n  <ProductModal :product=\"tempProduct\" @update-product=\"updateProduct\" ref=\"productModal\"/>\n  <DeleteModal :item=\"tempProduct\" @del-item=\"deleteProduct\" ref=\"deleteModal\"/>\n</template>\n\n<script>\n  import ProductModal from '@/components/backend/ProductModal.vue';\n  import DeleteModal from '@/components/backend/DeleteModal.vue';\n  import Loader from '@/components/Loader.vue';\n  import Pagination from '@/components/Pagination.vue';\n  export default {\n    components: {\n      ProductModal,\n      DeleteModal,\n      Loader,\n      Pagination,\n    },\n    inject: ['emitter'],\n    data() {\n      return {\n        products: [],\n        pagination: {},\n        tempProduct: {},\n        isNew: false,\n        loader: false,\n      };\n    },\n    methods: {\n      getProducts(page=1) {\n        const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/products/?page=${page}`;\n        this.loader = true;\n        this.$http.get(api).then((res) => {\n          if (res.data.success) {\n            this.products = res.data.products;\n            this.pagination = res.data.pagination;\n          }\n          this.loader = false;\n        });\n      },\n      openModal(isNew,item){\n        if(isNew){\n          this.tempProduct = {};\n        }else{\n          this.tempProduct = { ...item };\n        }\n        this.isNew = isNew;\n        const productComponent = this.$refs.productModal;\n        productComponent.showModal();\n      },\n      updateProduct(item){\n        this.tempProduct = item;\n        // 新增產品\n        let api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product`;\n        let httpMethod = 'post';\n        // 編輯產品\n        if(!this.isNew){\n          api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\n          httpMethod = 'put';\n        }\n        const productComponent = this.$refs.productModal;\n        this.$http[httpMethod](api,{data:this.tempProduct})\n        .then((res)=>{\n          productComponent.hideModal();\n          if (res.data.success) {\n            this.getProducts();\n            this.emitter.emit('push-message', {\n              style: 'success',\n              title: '更新成功',\n            });\n          } else {\n            this.emitter.emit('push-message', {\n              style: 'danger',\n              title: '更新失敗',\n              content: res.data.message.join('、'),\n            });\n          }\n        });\n      },\n      deleteModal(item){\n        const deleteModal = this.$refs.deleteModal;\n        this.tempProduct = { ...item };\n        deleteModal.showModal();\n      },\n      deleteProduct(){\n        const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;\n        this.$http.delete(url).then((res) => {\n          const deleteModal = this.$refs.deleteModal;\n          deleteModal.hideModal();\n          if(res.data.success){\n            this.getProducts();\n            this.emitter.emit('push-message', {\n              style: 'success',\n              title: '已刪除'\n            });\n          }else{\n            this.emitter.emit('push-message', {\n              style: 'danger',\n              title: '找不到產品',\n            });\n          }\n        });\n      },\n    },\n    created() {\n      this.getProducts();\n    },\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>","<template>\n  <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>新增產品</span>\n          </h5>\n          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <div class=\"mb-3\">\n                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\n                <input type=\"text\" class=\"form-control\" id=\"image\" placeholder=\"請輸入圖片連結\" v-model=\"tempProduct.imageUrl\">\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"customFile\" class=\"form-label\">或 上傳圖片\n                  <i class=\"fas fa-spinner fa-spin\"></i>\n                </label>\n                <input type=\"file\" id=\"customFile\" class=\"form-control\" @change=\"uploadFile\" ref=\"fileInput\">\n              </div>\n              <img v-if=\"tempProduct.imageUrl\" :src=\"tempProduct.imageUrl\" class=\"img-fluid\" alt=\"*\">\n            </div>\n            <div class=\"col-sm-8\">\n              <div class=\"mb-3\">\n                <label for=\"title\" class=\"form-label\">標題</label>\n                <input type=\"text\" class=\"form-control\" id=\"title\" placeholder=\"請輸入標題\" v-model=\"tempProduct.title\">\n              </div>\n\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"category\" class=\"form-label\">分類</label>\n                  <input type=\"text\" class=\"form-control\" id=\"category\" placeholder=\"請輸入分類\" v-model=\"tempProduct.category\">\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">單位</label>\n                  <input type=\"text\" class=\"form-control\" id=\"unit\" placeholder=\"請輸入單位\" v-model=\"tempProduct.unit\">\n                </div>\n              </div>\n\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"origin_price\" class=\"form-label\">原價</label>\n                  <input type=\"number\" class=\"form-control\" id=\"origin_price\" placeholder=\"請輸入原價\" v-model=\"tempProduct.origin_price\">\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">售價</label>\n                  <input type=\"number\" class=\"form-control\" id=\"price\" placeholder=\"請輸入售價\" v-model=\"tempProduct.price\">\n                </div>\n              </div>\n              <hr>\n\n              <div class=\"mb-3\">\n                <label for=\"description\" class=\"form-label\">產品描述</label>\n                <textarea type=\"text\" class=\"form-control\" id=\"description\" placeholder=\"請輸入產品描述\" v-model=\"tempProduct.description\"></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"content\" class=\"form-label\">說明內容</label>\n                <textarea type=\"text\" class=\"form-control\" id=\"content\" placeholder=\"請輸入產品說明內容\" v-model=\"tempProduct.content\"></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <div class=\"form-check\">\n                  <input class=\"form-check-input\" type=\"checkbox\" :true-value=\"1\" :false-value=\"0\" id=\"is_enabled\" v-model=\"tempProduct.is_enabled\">\n                  <label class=\"form-check-label\" for=\"is_enabled\">\n                    是否啟用\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">取消\n          </button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('update-product',tempProduct)\">確認</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import ModalMixin from '@/mixins/modalMixin';\n  export default {\n    props:{\n      product:{\n        type: Object,\n        default(){ return {}; },\n      },\n    },\n    data(){\n      return{\n        modal: {},\n        tempProduct: {},\n      }\n    },\n    watch:{\n      product(){\n        this.tempProduct = this.product;\n      },\n    },\n    methods:{\n      uploadFile(){\n        const uploadedfile = this.$refs.fileInput.files[0];\n        const formData = new FormData();\n        formData.append('file-to-upload',uploadedfile);\n        const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/upload`;\n        this.$http.post(url,formData)\n        .then((res)=>{\n          if(res.data.success){\n            this.tempProduct.imageUrl = res.data.imageUrl;\n          }\n        })\n      },\n    },\n    mixins: [ModalMixin],\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>","import { render } from \"./ProductModal.vue?vue&type=template&id=03b36506\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Products.vue?vue&type=template&id=49d1ff48\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","src","_imports_0","alt","_imports_1","_imports_2","_createBlock","_Teleport","to","_hoisted_1","__exports__","render","width","$data","loader","_component_Loader","key","type","onClick","_cache","$event","$options","openModal","_hoisted_2","_hoisted_3","_createElementBlock","_Fragment","_renderList","products","item","id","_toDisplayString","category","title","_hoisted_4","_ctx","$filters","currency","origin_price","_hoisted_5","price","is_enabled","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","deleteModal","_hoisted_10","_createVNode","_component_Pagination","pages","pagination","onEmitPage","getProducts","_component_ProductModal","product","tempProduct","onUpdateProduct","updateProduct","ref","_component_DeleteModal","onDelItem","deleteProduct","tabindex","role","for","placeholder","imageUrl","_hoisted_11","onChange","args","uploadFile","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","unit","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","description","_hoisted_29","_hoisted_30","content","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","$emit","props","Object","default","data","modal","watch","this","methods","uploadedfile","$refs","fileInput","files","formData","FormData","append","url","$http","post","then","res","success","mixins","ModalMixin","components","ProductModal","DeleteModal","Loader","Pagination","inject","isNew","page","api","get","productComponent","productModal","showModal","httpMethod","hideModal","emitter","emit","style","message","join","delete","created"],"sourceRoot":""}
"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[2],{2204:function(t,a,s){s.d(a,{Z:function(){return v}});var e=s(3396),i=s.p+"img/loader_deco_1.0626090e.png",l=s.p+"img/loader_deco_2.51484134.png",c=s.p+"img/loader_deco_3.506ecc28.png";const d=t=>((0,e.dD)("data-v-147a84ec"),t=t(),(0,e.Cn)(),t),o=d((()=>(0,e._)("div",{class:"loader-wrap"},[(0,e._)("div",{class:"loader"},[(0,e._)("div",{class:"box"},[(0,e._)("div",{class:"deco one"},[(0,e._)("img",{src:i,alt:"deco"})]),(0,e._)("div",{class:"deco two"},[(0,e._)("img",{src:l,alt:"deco"})]),(0,e._)("div",{class:"deco three"},[(0,e._)("img",{src:c,alt:"deco"})])])])],-1)));function r(t,a,s,i,l,c){return(0,e.wg)(),(0,e.j4)(e.lR,{to:"body"},[o])}var n={},u=s(89);const _=(0,u.Z)(n,[["render",r],["__scopeId","data-v-147a84ec"]]);var v=_},7192:function(t,a,s){s.r(a),s.d(a,{default:function(){return X}});var e=s(3396),i=s(7139),l=s.p+"img/no_order.ed30ed3b.png";const c=t=>((0,e.dD)("data-v-58a045ab"),t=t(),(0,e.Cn)(),t),d={class:"page-container"},o={class:"wrap-1500"},r={class:"wrap-1300"},n={key:0,class:"no-order"},u=c((()=>(0,e._)("div",{class:"icon"},[(0,e._)("img",{src:l,alt:"icon"})],-1))),_=c((()=>(0,e._)("p",{class:"text-center msg"},"尚無購物清單",-1))),v={class:"btn-wrap d-flex justify-content-center mt-5"},p=c((()=>(0,e._)("span",null,"探索課程",-1))),h=c((()=>(0,e._)("i",{class:"bi bi-arrow-right"},null,-1))),g={key:1},m=c((()=>(0,e._)("div",{class:"step-box mb-5"},[(0,e._)("ul",{class:"reset"},[(0,e._)("li",{class:"current"},[(0,e._)("i"),(0,e._)("p",null,"購物清單")]),(0,e._)("li",null,[(0,e._)("i"),(0,e._)("p",null,"填寫資料")]),(0,e._)("li",null,[(0,e._)("i"),(0,e._)("p",null,"訂單完成")])])],-1))),b={class:"del-all"},f={key:0,class:"cart-list"},w=(0,e.uE)('<div class="thead" data-v-58a045ab><div class="box" data-v-58a045ab><div class="th th-title" data-v-58a045ab>商品名稱</div><div class="th th-price" data-v-58a045ab>售價</div><div class="th th-number" data-v-58a045ab>數量</div><div class="th th-sum" data-v-58a045ab>小計</div><div class="th th-del" data-v-58a045ab>刪除</div></div></div>',1),C={class:"tbody"},k={class:"td td-title"},x={class:"pic"},y=["src"],$={class:"txt"},D={class:"prod-name"},I={class:"td td-price","data-mtit":"單價"},q={class:"origin"},z={class:"td td-number","data-mtit":"數量"},T={class:"td td-sum","data-mtit":"小計"},j={class:"td td-del"},Z=["onClick"],A={class:"tfooter"},B={class:"info"},E={class:"reset"},N=c((()=>(0,e._)("div",{class:"txt"},"購買總課程堂數",-1))),L={class:"num"},W={class:"total"},F=c((()=>(0,e._)("div",{class:"txt"},"訂單總金額",-1))),H={class:"num"},K={class:"btn-wrap d-flex"},R=c((()=>(0,e._)("span",null,"下一步",-1))),U=c((()=>(0,e._)("i",{class:"bi bi-arrow-right"},null,-1)));function Y(t,a,s,l,c,Y){const G=(0,e.up)("Loader"),J=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("div",d,[c.loader?((0,e.wg)(),(0,e.j4)(G,{key:0})):(0,e.kq)("",!0),(0,e._)("div",o,[(0,e._)("div",r,[0===c.cart.final_total?((0,e.wg)(),(0,e.iD)("div",n,[u,_,(0,e._)("div",v,[(0,e.Wm)(J,{to:"/course",class:"btn-style",title:"探索課程"},{default:(0,e.w5)((()=>[p,h])),_:1})])])):((0,e.wg)(),(0,e.iD)("div",g,[m,(0,e._)("div",b,[(0,e._)("button",{onClick:a[0]||(a[0]=(...t)=>Y.deleteCartAll&&Y.deleteCartAll(...t)),type:"button",title:"全部刪除"},"全部刪除")]),c.cart.carts?((0,e.wg)(),(0,e.iD)("div",f,[w,(0,e._)("div",C,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(c.cart.carts,(t=>((0,e.wg)(),(0,e.iD)("div",{class:"box",key:t.id},[(0,e._)("div",k,[(0,e._)("div",x,[(0,e._)("img",{src:t.product.imageUrl,alt:"product"},null,8,y)]),(0,e._)("div",$,[(0,e._)("div",D,(0,i.zw)(t.product.title),1)])]),(0,e._)("div",I,[(0,e._)("span",q,"NT$"+(0,i.zw)(t.product.price),1)]),(0,e._)("div",z,(0,i.zw)(t.qty),1),(0,e._)("div",T,"NT$"+(0,i.zw)(t.total),1),(0,e._)("div",j,[(0,e._)("i",{class:"bi bi-x-circle",onClick:a=>Y.deleteCart(t.id)},null,8,Z)])])))),128))]),(0,e._)("div",A,[(0,e._)("div",B,[(0,e._)("ul",E,[(0,e._)("li",null,[N,(0,e._)("div",L,(0,i.zw)(Y.courseTotal)+"堂",1)]),(0,e._)("li",W,[F,(0,e._)("div",H,"NT$"+(0,i.zw)(Y.total),1)])])])])])):(0,e.kq)("",!0),(0,e._)("div",K,[(0,e.Wm)(J,{to:"/cartForm",class:"btn-style",title:"下一步"},{default:(0,e.w5)((()=>[R,U])),_:1})])]))])])])}var G=s(2204),J=s(2492),M=s.n(J),O=s(2578),P=s(2474),Q={components:{Loader:G.Z},data(){return{loader:!1,cart:{},status:{loadingItem:""}}},methods:{...(0,O.nv)(P.x,["getItem"]),delCourse(){M().fire({icon:"success",text:"已刪除課程",iconColor:"#ff8400",confirmButtonText:"關閉",showConfirmButton:!1,confirmButtonColor:"#ffd93d",timer:1500})},getCart(){const t="https://vue3-course-api.hexschool.io/api/cook99/cart";this.loader=!0,this.$http.get(t).then((t=>{this.cart=t.data.data,this.loader=!1}))},deleteCart(t){const a=`https://vue3-course-api.hexschool.io/api/cook99/cart/${t}`;this.$http.delete(a,t).then((t=>{this.getCart(),this.delCourse(),this.getItem()}))},deleteCartAll(){const t="https://vue3-course-api.hexschool.io/api/cook99/carts";this.$http.delete(t).then((t=>{this.getCart(),this.delCourse(),this.getItem()}))},updateCart(t){const a=`https://vue3-course-api.hexschool.io/api/cook99/cart/${t.id}`,s={product_id:t.product_id,qty:t.qty};this.status.loadingItem=t.id,this.$http.put(a,{data:s}).then((t=>{this.status.loadingItem="",this.getCart()}))}},computed:{total(){let t=0;return this.cart.carts.forEach((a=>{t+=a.final_total})),t},courseTotal(){let t=0;return this.cart.carts.forEach((a=>{t+=a.qty})),t}},created(){this.getCart()}},S=s(89);const V=(0,S.Z)(Q,[["render",Y],["__scopeId","data-v-58a045ab"]]);var X=V}}]);
//# sourceMappingURL=2.7338525f.js.map